import{c as u,j as e,d as C,r as h,S as w}from"./index-DNGinK8m.js";import{a as M,u as E,M as S}from"./useMeals-D5WBPLu5.js";import{S as F}from"./Spinner-CVP-5Hlf.js";import"./getMeals-DCOcbbfO.js";import"./useFavoriteStore-DVAdU1br.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L=u("funnel",P);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D=u("x",$);function R({active:i,categories:t,categoryQuery:n,onCategoryParams:l,onDeleteCategory:r}){return e.jsxs("div",{className:`overflow-hidden rounded-lg bg-white shadow-md transition-all duration-500 ease-in-out ${i?"mb-6 max-h-[500px] p-6 opacity-100":"mb-0 max-h-0 p-0 opacity-0"}`,children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filter Kategori"}),n&&e.jsxs("button",{onClick:r,className:"flex items-center space-x-1 rounded-lg bg-red-100 px-3 py-1.5 text-sm font-medium text-red-700 transition-all hover:cursor-pointer hover:bg-red-200 hover:text-red-800",children:[e.jsx(D,{className:"size-4"}),e.jsx("span",{children:"Hapus Filter"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-4 lg:grid-cols-6",children:t&&t.map(s=>e.jsx("button",{onClick:()=>l(s.strCategory),className:`rounded-lg border p-3 text-left transition-all hover:cursor-pointer ${n===s.strCategory?"border-orange-500 bg-orange-100 text-orange-700 shadow-sm":"border-gray-200 bg-gray-50 text-gray-700 hover:border-orange-300 hover:bg-orange-100/50 hover:text-orange-600"}`,children:e.jsx("div",{className:"truncate text-sm font-medium",children:s.strCategory})},s.idCategory))})]})}function K(){const[i,t]=C(),[n,l]=h.useState(!1),r=i.get("q"),s=i.get("c"),{data:p,isLoading:c,error:b,isError:j}=M(),{data:m,isLoading:d,error:f,isError:y,isEnabled:N}=E({query:r,isDisabled:!!r}),v=a=>{t(g=>(g.set("c",a),g))},k=()=>{t(a=>(a.delete("c"),a))};if(h.useEffect(()=>{l(!1)},[r]),!N)return e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(w,{className:"mx-auto mb-4 h-16 w-16 text-gray-300"}),e.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-600",children:"Mulai Pencarian Resep"}),e.jsx("p",{className:"mx-auto max-w-md text-gray-500",children:"Gunakan kotak pencarian di atas atau pilih kategori untuk menemukan resep yang sempurna!"})]});if(j)return e.jsx("strong",{children:b.message});if(y)return e.jsx("strong",{children:f.message});const o=s?m?.filter(a=>a.strCategory===s):m,x=o&&o?.length!==0;return e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"mb-6 flex flex-col justify-between md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-2 text-3xl font-bold text-gray-800",children:r?"Hasil Pencarian":"Cari Resep"}),(r||s)&&e.jsxs("p",{className:"text-gray-600",children:[r&&`Pencarian: "${r}"`,r&&s&&" â€¢ ",s&&`Kategori: ${s}`]})]}),e.jsx("div",{className:"mt-4 flex items-center space-x-3 md:mt-0",children:e.jsxs("button",{onClick:()=>l(!n),className:"flex items-center space-x-2 rounded-lg border border-gray-300 bg-white px-4 py-2 transition-colors hover:cursor-pointer hover:bg-gray-50",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{children:"Filter"})]})})]}),e.jsx(R,{active:n,categories:p,categoryQuery:s,onCategoryParams:v,onDeleteCategory:k}),(c||d)&&e.jsx(F,{}),!c&&!d&&x&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:o.map(a=>e.jsx(S,{meal:a},a.idMeal))}),e.jsxs("div",{className:"mt-8 text-center text-gray-500",children:["Menampilkan ",o.length," resep"]})]}),!c&&!d&&!x&&e.jsxs("div",{className:"flex flex-col items-center gap-4 py-12",children:[e.jsx("div",{className:"mb-2 text-6xl",children:"ðŸ˜“"}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"mb-1 text-xl font-medium text-gray-700",children:"Oops, tidak ada yang cocok"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Coba kata kunci lain atau pilih kategori berbeda"})]})]})]})}export{K as default};
